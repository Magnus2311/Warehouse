(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{299:function(e,t,n){"use strict";n.d(t,"a",(function(){return jn}));var r=n(179),o=n(378),i=n(48),c=n(124),a=n(392),s=n(5),l=n.n(s),u=n(10),d=n.n(u),f=n(17),p=n.n(f),b=n(385),j=n(390),h=n(203),O=n(0),m=n.n(O);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=n(280);function v(){return Object(x.a)()}var w=n(386),D=n(387),P=n(172),S=n(391),E=n(76),I=n(12),T=n(16),C=n.n(T),R=n(56),L=n(11),A=n(84),k=n(169),N={light:{text:"#000",background:"#fff",tint:"#2f95dc",tabIconDefault:"#ccc",tabIconSelected:"#2f95dc",borderColor:"rgb(0, 255, 0)"},dark:{text:"#fff",background:"#000",tint:"#fff",tabIconDefault:"#ccc",tabIconSelected:"#fff",borderColor:"rgb(0, 255, 0)"}},_=n(40),B=n(109),M=_.a.get("window"),q=M.width,W=(M.height,function(){return _.a.get("window").height}),V=q/320;function z(e){var t=e*V;return"ios"===I.a.OS?Math.round(B.a.roundToNearestPixel(t)):Math.round(B.a.roundToNearestPixel(t))-2}var H="android"===I.a.OS||"ios"===I.a.OS,F=(I.a.OS,I.a.OS,n(7)),G=["style","lightColor","darkColor"],U=["style","lightColor","darkColor"],J=["style","lightColor","darkColor"],X=["style","lightColor","darkColor","border"],Y=["style","lightColor","darkColor","onPress","label"];function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e,t){var n=v(),r=e[n];return r||N[n][t]}function $(e){var t=e.style,n=e.lightColor,r=e.darkColor,o=C()(e,G),i=Z({light:n,dark:r},"text");return Object(F.jsx)(R.a,Q({style:[{color:i,margin:"auto"},t]},o))}function ee(e){var t=e.style,n=e.lightColor,r=e.darkColor,o=C()(e,U),i=Z({light:n,dark:r},"background");return Object(F.jsx)(L.a,Q({style:[{backgroundColor:i},t]},o))}function te(e){var t=e.style,n=e.lightColor,r=e.darkColor,o=C()(e,J),i=Z({light:n,dark:r},"background");return Object(F.jsx)(L.a,Q({style:[{backgroundColor:i,paddingTop:z(8)},t]},o))}function ne(){return Object(F.jsx)(ee,{style:{marginVertical:z(10),height:1,width:z(300)},lightColor:"#eee",darkColor:"rgba(255,255,255,0.1)"})}function re(e){var t=e.style,n=e.lightColor,r=e.darkColor,o=e.border,i=C()(e,X),c=Z({light:n,dark:r},"text"),a=e.label;return a?Object(F.jsx)(ee,{style:[{width:z(300),marginBottom:10,justifyContent:"center",alignItems:"center",borderWidth:0}],children:Object(F.jsxs)(ee,{style:{borderWidth:0},children:[Object(F.jsx)($,{style:{marginLeft:1,marginBottom:2},children:a}),Object(F.jsx)(A.a,Q({style:[{color:c,borderColor:c,width:z(300),maxWidth:500,borderRadius:5,padding:3,paddingBottom:5,paddingLeft:5,borderWidth:o?1:0},t]},i))]})}):Object(F.jsx)(A.a,Q({style:[{color:c,borderColor:c,borderWidth:0,width:z(300),maxWidth:500,borderRadius:5,padding:3,paddingBottom:5,paddingLeft:5},t]},i))}function oe(e){var t=e.style,n=(e.lightColor,e.darkColor,e.onPress),r=e.label,o=C()(e,Y);return Object(F.jsx)(k.a,Q(Q({style:[{backgroundColor:o.disabled?"rgba(35, 134, 38, 0.45)":"rgba(35, 134, 38, 0.9)",borderWidth:1,padding:5,borderRadius:5,width:z(300),maxWidth:500,alignItems:"center",marginTop:z(5),borderColor:"rgba(240,246,252,0.1)",zIndex:1},t],onPress:n},o),{},{children:Object(F.jsx)($,{style:{color:"white"},children:r})}))}var ie=function(e){var t=e.route.params.component;return Object(F.jsxs)(ee,{style:{flex:1,alignItems:"center",justifyContent:"center"},children:[t,Object(F.jsx)(r.a,{style:"ios"===I.a.OS?"light":"auto"})]})},ce=n(8);function ae(e){var t=e.navigation;return Object(F.jsxs)(ee,{style:se.container,children:[Object(F.jsx)($,{style:se.title,children:"This screen doesn't exist."}),Object(F.jsx)(k.a,{onPress:function(){return t.replace("Root")},style:se.link,children:Object(F.jsx)($,{style:se.linkText,children:"Go to home screen!"})})]})}var se=ce.a.create({container:{flex:1,alignItems:"center",justifyContent:"center",padding:20},title:{fontSize:20,fontWeight:"bold"},link:{marginTop:15,paddingVertical:15},linkText:{fontSize:14,color:"#2e78b7"}}),le=n(43);function ue(e){var t=e.title,n=e.children;return Object(F.jsxs)(te,{style:de.container,children:[t&&Object(F.jsx)($,{style:de.title,children:t}),t&&Object(F.jsx)(ne,{}),n]})}var de=ce.a.create({container:{flex:1,alignItems:"center"},title:{fontSize:20,fontWeight:"bold"},separator:{marginVertical:30,height:1,width:"80%"}}),fe=n(3),pe=n.n(fe),be=n(4),je=n.n(be),he=n(6),Oe=n.n(he),me=n(13),ye=n.n(me),ge=n(2),xe=n.n(ge),ve=n(389),we=n(170),De=n(15),Pe=n(302),Se=function(e){var t=new Date(e);return Ee(t.getDate())+"."+Ee(t.getMonth()+1)+"."+t.getFullYear()+" "+Ee(t.getHours())+":"+Ee(t.getMinutes())},Ee=function(e){return e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})},Ie=function(e){return(Math.round(100*e)/100).toFixed(2)},Te=function(e){var t=Number(e);return(Math.round(100*t)/100).toFixed(2)},Ce=function(e){var t=e.columns,n=e.data,r=e.deleteProps,o=e.onEdit,i=e.additionalActions,a=e.showDeleted,s=Object(O.useState)(""),l=d()(s,2),u=l[0],f=l[1],p=Object(O.useRef)(new De.a.Value(300)).current,j=Object(c.b)(),h=function(e,t,n){return n.alert(t.title,t.content,[{text:t.cancelBtnTxt},{text:t.acceptBtnTxt,onPress:function(){return t.onAction(e)}}])};return Object(F.jsx)(F.Fragment,{children:n&&n.map((function(e){return(!a||a.showDeleted||!a.showDeleted&&!e.isDeleted)&&Object(F.jsx)(Pe.a,{onSwipeLeft:function(){e.id!==u&&(p.setValue(300),f(e.id),De.a.timing(p,{toValue:0,duration:200,useNativeDriver:!0}).start())},onSwipeRight:function(){De.a.timing(p,{toValue:300,duration:200,useNativeDriver:!0}).start((function(){return f("")}))},children:Object(F.jsxs)(ve.a.Row,{style:{backgroundColor:e.isDeleted?"rgba(255, 0, 0, 0.05)":"white"},children:[t.map((function(t){var n;return Object(F.jsx)(ve.a.Cell,{style:{flex:null!=(n=t.flex)?n:1},children:t.isMoney?Ie(Number(e[t.propName])):e[t.propName]},t.name)})),u==e.id&&(o||r||i||a&&e.isDeleted)&&Object(F.jsxs)(De.a.View,{style:{alignSelf:"center",flexDirection:"row",transform:[{translateX:p}]},children:[i&&i.map((function(t){return Object(F.jsx)(b.a,{name:t.name,size:30,color:t.color,style:{alignSelf:"center",marginRight:10},onPress:function(){t.onPress(e),f("")}})})),o&&Object(F.jsx)(b.a,{name:"edit",size:30,color:"green",style:{alignSelf:"center",marginRight:10},onPress:function(){o(e.id),f("")}}),r&&!e.isDeleted&&Object(F.jsx)(b.a,{name:"remove",size:30,color:"green",style:{alignSelf:"center",paddingBottom:4},onPress:function(){return h(e.id,r,j)}}),a&&e.isDeleted&&Object(F.jsx)(b.a,{name:"arrow-down",size:30,color:"green",style:{alignSelf:"center",paddingBottom:4},onPress:function(){return h(e.id,a.recoverProps,j)}})]},e.id)]})},e.id)}))})},Re=function(e){var t=e.columns,n=e.data,r=e.deleteProps,o=e.onEdit,i=e.additionalActions,a=e.showDeleted,s=Object(c.b)(),l=function(e,t,n){return n.alert(t.title,t.content,[{text:t.cancelBtnTxt},{text:t.acceptBtnTxt,onPress:function(){return t.onAction(e)}}])};return Object(F.jsx)(F.Fragment,{children:n&&n.map((function(e){return(!a||a.showDeleted||!a.showDeleted&&!e.isDeleted)&&Object(F.jsxs)(ve.a.Row,{style:{backgroundColor:e.isDeleted?"rgba(255, 0, 0, 0.05)":"white"},children:[t.map((function(t){var n;return Object(F.jsx)(ve.a.Cell,{style:{flex:null!=(n=t.flex)?n:1},children:t.isMoney?Ie(Number(e[t.propName])):e[t.propName]},t.name)})),(o||r||i||a&&e.isDeleted)&&Object(F.jsxs)(De.a.View,{style:{alignSelf:"center",flexDirection:"row"},children:[i&&i.map((function(t){return Object(F.jsx)(b.a,{name:t.name,size:30,color:t.color,style:{alignSelf:"center",marginRight:10},onPress:function(){return t.onPress(e)}})})),o&&Object(F.jsx)(b.a,{name:"edit",size:30,color:"green",style:{alignSelf:"center",marginRight:10},onPress:function(){return o(e.id)}}),r&&!e.isDeleted&&Object(F.jsx)(b.a,{name:"remove",size:30,color:"green",style:{alignSelf:"center",paddingBottom:4},onPress:function(){return l(e.id,r,s)}}),a&&e.isDeleted&&Object(F.jsx)(b.a,{name:"arrow-down",size:30,color:"green",style:{alignSelf:"center",paddingBottom:4},onPress:function(){return l(e.id,a.recoverProps,s)}})]},e.id)]},e.id)}))})},Le=function(e){var t=e.columns,n=e.data,r=e.deleteProps,o=e.onEdit,i=e.additionalActions,c=e.showDeleted;return Object(F.jsxs)(ve.a,{style:{width:z(300)},children:[function(e){var t=e.columns;return Object(F.jsx)(ve.a.Header,{children:Object(F.jsxs)(F.Fragment,{children:[t&&t.map((function(e){var t;return Object(F.jsx)(ve.a.Title,{style:{flex:null!=(t=e.flex)?t:1},children:e.name},e.name)})),c&&Object(F.jsx)(we.a,{trackColor:{false:"#767577",true:"#81b0ff"},thumbColor:c.showDeleted?"#f5dd4b":"#f4f3f4",ios_backgroundColor:"#3e3e3e",onValueChange:c.setShowDeleted,style:{alignSelf:"flex-end",marginBottom:14},value:c.showDeleted})]})})}({columns:t}),H?Object(F.jsx)(Ce,{columns:t,data:n,deleteProps:r,onEdit:o,additionalActions:i,showDeleted:c}):Object(F.jsx)(Re,{columns:t,data:n,deleteProps:r,onEdit:o,additionalActions:i,showDeleted:c})]})},Ae=n(21),ke=n.n(Ae),Ne="https://localhost:5001/";function _e(e){var t;return p.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,p.a.awrap(fetch(""+Ne+e));case 2:if(!(t=n.sent).ok){n.next=13;break}return n.prev=4,n.next=7,p.a.awrap(t.json());case 7:return n.abrupt("return",n.sent);case 10:throw n.prev=10,n.t0=n.catch(4),n.t0;case 13:return n.abrupt("return",[]);case 14:case"end":return n.stop()}}),null,null,[[4,10]],Promise)}function Be(e,t){var n;return p.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,p.a.awrap(fetch(""+Ne+e,{method:"PUT",credentials:"omit",cache:"no-cache",body:JSON.stringify(t),headers:{"content-type":"application/json"}}));case 2:return n=r.sent,r.abrupt("return",n.ok);case 4:case"end":return r.stop()}}),null,null,null,Promise)}function Me(e,t){var n;return p.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,p.a.awrap(fetch(""+Ne+e,{method:"POST",credentials:"omit",cache:"no-cache",body:JSON.stringify(t),headers:{"content-type":"application/json"}}));case 2:if(!(n=r.sent).ok){r.next=13;break}return r.prev=4,r.next=7,p.a.awrap(n.json());case 7:return r.abrupt("return",r.sent);case 10:throw r.prev=10,r.t0=r.catch(4),r.t0;case 13:return r.abrupt("return",{});case 14:case"end":return r.stop()}}),null,null,[[4,10]],Promise)}function qe(e,t){var n;return p.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,p.a.awrap(fetch(""+Ne+e,{method:"DELETE",credentials:"omit",cache:"no-cache",body:JSON.stringify(t),headers:{"content-type":"application/json"}}));case 2:return n=r.sent,r.abrupt("return",n.ok);case 4:case"end":return r.stop()}}),null,null,null,Promise)}function We(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?We(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):We(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ze=function(e){return{type:"EDIT_ITEM",item:e}},He=function(e){return function(t){Me("api/items/",e).then((function(e){t(function(e){return{type:"ADD_ITEM",item:e}}(e))})).catch((function(e){console.log(e)}))}},Fe=function(){return function(e){_e("api/items/").then((function(t){e(function(e){return{type:"LOAD_ITEMS",items:e}}(t))})).catch((function(e){console.log(e)}))}},Ge=function(){return function(e){_e("api/items/get-all").then((function(t){e(function(e){return{type:"LOAD_ALL_ITEMS",items:e}}(t))})).catch((function(e){console.log(e)}))}},Ue=function(e){return function(t){Be("api/items/",e).then((function(n){n&&t(ze(e))})).catch((function(e){console.log(e)}))}},Je=function(e){return function(t){qe("api/items/",e).then((function(n){n&&t(function(e){return{type:"DELETE_ITEM",itemId:e}}(e))}))}},Xe=function(e){return function(t){Me("api/items/buy-item",e).then((function(e){t({type:"BUY_ITEM",buyItem:e})}))}},Ye=function(e){return function(t){Me("api/items/item-recovery",e).then((function(e){t(ze(e))}))}},Ke=function(e){return function(t){t(function(e){return{type:"SET_SHOW_DELETED",showDeleted:e}}(e))}},Qe={items:[],showDeleted:!1};function Ze(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xe()(e);if(t){var o=xe()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ye()(this,n)}}var $e=function(e){Oe()(n,e);var t=Ze(n);function n(){return pe()(this,n),t.apply(this,arguments)}return je()(n)}(m.a.Component),et=function(e){var t,n,r,o,i=e.items,c=e.handleItemChosen,a=e.selectedItem,s=e.label,l=e.border,u=e.style,f=e.placeholder,p=Object(O.useState)(null!=(t=null==a?void 0:a.title)?t:""),b=d()(p,2),j=b[0],h=b[1],m=Object(O.useState)(i),y=d()(m,2),g=y[0],x=y[1],v=Object(O.useRef)(new De.a.Value(s?50:26.67)).current,w=Object(O.useRef)(new De.a.Value(26.67)).current,D=Object(O.useRef)(new De.a.Value(0)).current,P=function(e){De.a.timing(v,{toValue:e?Math.min(250,50+26.67*g.length):s?50:26.67,duration:200,useNativeDriver:!1}).start(),De.a.timing(w,{toValue:e?26.67:0,duration:e?400:200,useNativeDriver:!1}).start(),De.a.timing(D,{toValue:e?200:0,duration:200,useNativeDriver:!1}).start()};return Object(F.jsx)(De.a.View,{style:{height:v,maxHeight:v,margin:null!=(n=null==u?void 0:u.margin)?n:0,marginBottom:null!=(r=null==u?void 0:u.marginBottom)?r:0,marginTop:null!=(o=null==u?void 0:u.marginTop)?o:0},children:Object(F.jsxs)(ee,{style:{position:"relative",borderColor:"black",height:23,alignSelf:"stretch"},children:[Object(F.jsx)(re,{label:s,onFocus:function(){P(!0)},onBlur:function(){setTimeout((function(){return P(!1)}),200)},value:j,placeholder:f,onChangeText:function(e){h(e),x(i.filter((function(t){return t.title.toLowerCase().includes(e.toLowerCase())})))},style:{borderWidth:l?1:0}}),Object(F.jsx)(De.a.View,{style:{maxHeight:D,position:"relative",width:z(300),maxWidth:500,justifyContent:"center",alignItems:"center",alignSelf:"center"},children:Object(F.jsx)(De.a.View,{style:{maxHeight:D,overflow:"scroll",alignSelf:"stretch"},children:g.map((function(e){return Object(F.jsx)(De.a.View,{style:{maxHeight:w},children:Object(F.jsx)(E.a,{onPress:function(){!function(e){h(e.title),c(e.id),""===(null==a?void 0:a.id)&&h("")}(e)},style:{paddingLeft:12,height:25},children:Object(F.jsx)(R.a,{children:e.title})},e.id)})}))})})]})})},tt=function(e){return function(t){t(function(e){return{type:"CHANGE_TITLE",title:e}}(e))}},nt={title:""};function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var it={name:"",basePrice:"",sellPrice:"",partnerId:"",qtty:""},ct=Object(i.b)((function(e){return{items:e.items.items,partners:e.partners.partners}}),(function(e){return{onItemAdded:function(t){e(He(t))},onItemEdited:function(t){e(Ue(t))},onModalTitleChanged:function(t){e(tt(t))}}}))((function(e){var t,n,r=e.itemId,o=e.items,i=e.partners,c=e.onItemAdded,a=e.onModalTitleChanged,s=e.onItemEdited,u=o.find((function(e){return e.id===r})),f=Object(O.useState)(null!=u?u:it),p=d()(f,2),b=p[0],j=p[1],h=Object(le.p)(),m=Object(O.useState)(i.map((function(e){return{id:e.id,title:e.name}}))),y=d()(m,1)[0];a(u?"\u0420\u0435\u0434\u0430\u043a\u0446\u0438\u044f \u043d\u0430 \u0441\u0442\u043e\u043a\u0430":"\u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435 \u043d\u0430 \u0441\u0442\u043e\u043a\u0430");var g=function(e,t){j(ot(ot({},b),{},l()({},e,t)))};return Object(F.jsxs)(ue,{children:[Object(F.jsx)(re,{label:"\u0418\u043c\u0435 \u043d\u0430 \u0441\u0442\u043e\u043a\u0430\u0442\u0430:",onChangeText:function(e){return g("name",e)},value:b.name,border:!0}),Object(F.jsx)(et,{placeholder:"\u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0438\u043c\u0435 \u043d\u0430 \u0434\u043e\u0441\u0442\u0430\u0432\u0447\u0438\u043a",selectedItem:u?{id:u.partnerId,title:null!=(t=null==(n=i.find((function(e){return e.id===u.partnerId})))?void 0:n.name)?t:""}:void 0,items:y,handleItemChosen:function(e){j(ot(ot({},b),{},{partnerId:e}))},label:"\u0418\u043c\u0435 \u043d\u0430 \u0434\u043e\u0441\u0442\u0430\u0432\u0447\u0438\u043a",border:!0,style:{marginBottom:15}}),!u&&Object(F.jsx)(re,{label:"\u0414\u043e\u0441\u0442\u0430\u0432\u043d\u0430 \u0446\u0435\u043d\u0430:",onChangeText:function(e){return g("basePrice",e)},value:b.basePrice.toString(),keyboardType:"numeric",border:!0}),!u&&Object(F.jsx)(re,{label:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e:",onChangeText:function(e){return g("qtty",e)},value:b.qtty,keyboardType:"numeric",border:!0}),Object(F.jsx)(re,{label:"\u041f\u0440\u043e\u0434\u0430\u0436\u043d\u0430 \u0446\u0435\u043d\u0430:",onChangeText:function(e){return g("sellPrice",e)},value:b.sellPrice.toString(),keyboardType:"numeric",border:!0}),Object(F.jsx)(oe,{label:u?"\u0420\u0435\u0434\u0430\u043a\u0446\u0438\u044f \u043d\u0430 \u0441\u0442\u043e\u043a\u0430":"\u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435 \u043d\u0430 \u0441\u0442\u043e\u043a\u0430",onPress:function(){u?s(b):c(b),j(it),h.navigate("Root")}})]})}));function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lt=Object(i.b)(null,(function(e){return{onModalTitleChanged:function(t){e(tt(t))},onBuyItem:function(t){e(Xe(t))}}}))((function(e){var t=e.item,n=e.onModalTitleChanged,r=e.onBuyItem,o=Object(O.useState)(st(st({},t),{},{qtty:"1"})),i=d()(o,2),c=i[0],a=i[1],s=function(e,t){a(st(st({},c),{},l()({},e,t)))},u=Object(le.p)();return Object(O.useEffect)((function(){return n("\u041f\u043e\u043a\u0443\u043f\u043a\u0430 \u043d\u0430 \u0441\u0442\u043e\u043a\u0430")})),Object(F.jsxs)(ue,{children:[Object(F.jsx)(re,{label:"\u0418\u043c\u0435 \u043d\u0430 \u0441\u0442\u043e\u043a\u0430\u0442\u0430:",value:c.name,border:!0}),Object(F.jsx)(re,{label:"\u0414\u043e\u0441\u0442\u0430\u0432\u043d\u0430 \u0446\u0435\u043d\u0430:",onChangeText:function(e){return s("basePrice",e)},value:c.basePrice,keyboardType:"numeric",border:!0}),Object(F.jsx)(re,{label:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e:",onChangeText:function(e){return s("qtty",e)},value:c.qtty,keyboardType:"numeric",border:!0}),Object(F.jsx)(re,{label:"\u041f\u0440\u043e\u0434\u0430\u0436\u043d\u0430 \u0446\u0435\u043d\u0430:",value:c.sellPrice,keyboardType:"numeric",border:!0}),Object(F.jsxs)($,{style:{margin:0},children:["\u0421\u0443\u043c\u0430 \u0437\u0430 \u043f\u043e\u043a\u0443\u043f\u043a\u0430:"," ",Ie(Number(c.qtty)*Number(c.basePrice))]}),Object(F.jsx)(oe,{label:"\u0417\u0430\u0432\u044a\u0440\u0448\u0432\u0430\u043d\u0435 \u043d\u0430 \u043f\u043e\u043a\u0443\u043f\u043a\u0430",onPress:function(){r({qtty:c.qtty,basePrice:c.basePrice,itemId:c.id}),u.goBack()}})]})}));function ut(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xe()(e);if(t){var o=xe()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ye()(this,n)}}var dt=function(e){Oe()(n,e);var t=ut(n);function n(){var e;pe()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onDelete=function(t){(0,e.props.dispatch)(Je(t))},e.onEdit=function(t){e.props.navigation.navigate("Modal",{component:Object(F.jsx)(ct,{itemId:t})})},e}return je()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.listableItems,r=t.columns,o=t.showDeleted,i=[{name:"plus",color:"green",onPress:function(t){e.props.navigation.navigate("Modal",{component:Object(F.jsx)(lt,{item:t})})}}];return Object(F.jsx)(Le,{data:n,columns:r,deleteProps:{title:"\u0418\u0437\u0442\u0440\u0438\u0432\u0430\u043d\u0435 \u043d\u0430 \u0441\u0442\u043e\u043a\u0430",content:"\u0416\u0435\u043b\u0430\u0435\u0442\u0435 \u043b\u0438 \u0434\u0430 \u0438\u0437\u0442\u0440\u0438\u0435\u0442\u0435 \u0438\u0437\u0431\u0440\u0430\u043d\u0430\u0442\u0430 \u0441\u0442\u043e\u043a\u0430",cancelBtnTxt:"\u041e\u0442\u043a\u0430\u0437",acceptBtnTxt:"\u0418\u0437\u0442\u0440\u0438\u0432\u0430\u043d\u0435",onAction:this.onDelete},onEdit:this.onEdit,additionalActions:i,showDeleted:o})}}]),n}($e),ft=Object(i.b)((function(e){return{items:e.items.items}}))(dt),pt=Object(i.b)((function(e){return{items:e.items.items,showDeleted:e.items.showDeleted}}),(function(e){return{onItemsLoaded:function(){e(Fe())},onItemRecovery:function(t){e(Ye(t))},onAllItemsLoaded:function(){e(Ge())},onShowDeletedChanged:function(t){e(Ke(t))}}}))((function(e){var t=e.items,n=e.onItemsLoaded,r=e.onAllItemsLoaded,o=e.onItemRecovery,i=e.showDeleted,c=e.onShowDeletedChanged,a=Object(le.p)();Object(O.useEffect)((function(){i?r():n()}),[i]);var s=[{name:"\u0418\u043c\u0435 \u043d\u0430 \u0441\u0442\u043e\u043a\u0430",propName:"name",flex:6},{name:H?"\u0414-\u043d\u0430 \u0446\u0435\u043d\u0430":"\u0414\u043e\u0441\u0442\u0430\u0432\u043d\u0430 \u0446\u0435\u043d\u0430",propName:"basePrice",flex:H?2:1,isRight:!0,isMoney:!0},{name:H?"\u041f-\u043d\u0430 \u0446\u0435\u043d\u0430":"\u041f\u0440\u043e\u0434\u0430\u0436\u043d\u0430 \u0446\u0435\u043d\u0430",propName:"sellPrice",flex:H?2:1,isRight:!0,isMoney:!0},{name:"\u041a-\u0432\u043e",propName:"qtty",flex:1,isRight:!0,isMoney:!0}];return Object(F.jsx)(ue,{children:Object(F.jsx)(ft,{columns:s,listableItems:t,navigation:a,showDeleted:{showDeleted:i,setShowDeleted:c,recoverProps:{title:"\u0412\u044a\u0437\u0441\u0442\u0430\u043d\u043e\u0432\u044f\u0432\u0430\u043d\u0435 \u043d\u0430 \u0441\u0442\u043e\u043a\u0430",content:"\u0416\u0435\u043b\u0430\u0435\u0442\u0435 \u043b\u0438 \u0434\u0430 \u0432\u044a\u0437\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u0438\u0437\u0431\u0440\u0430\u043d\u0430\u0442\u0430 \u0441\u0442\u043e\u043a\u0430",cancelBtnTxt:"\u041e\u0442\u043a\u0430\u0437",acceptBtnTxt:"\u0412\u044a\u0437\u0441\u0442\u0430\u043d\u043e\u0432\u044f\u0432\u0430\u043d\u0435",onAction:o}}})})})),bt={prefixes:[n(301).a("/")],config:{screens:{Root:{screens:{SalesListScreen:{screens:{SalesListScreen:"SalesListScreen"}}}},ItemsListScreen:"ItemsListScreen",PartnersListScreen:"PartnersListScreen",Register:"Register",Modal:"modal",NotFound:"*"}}},jt=Object(i.b)()((function(){return Object(F.jsx)(ee,{children:Object(F.jsx)($,{onPress:function(e){e.preventDefault()},children:"Register"})})})),ht=n(388);function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yt=function(e){return{type:"EDIT_PARTNER",partner:e}},gt=function(e){return function(t){Me("api/partners/",e).then((function(e){t(function(e){return{type:"ADD_PARTNER",partner:e}}(e))})).catch((function(e){return console.log(e)}))}},xt=function(){return function(e){_e("api/partners/get-all").then((function(t){e(function(e){return{type:"LOAD_PARTNERS",partners:e}}(t))})).catch((function(e){return console.log(e)}))}},vt=function(e){return function(t){Be("api/partners/",e).then((function(n){return n&&t(yt(e))}))}},wt=function(e){return function(t){qe("api/partners/",e).then((function(n){return n&&t(function(e){return{type:"DELETE_PARTNER",partnerId:e}}(e))}))}},Dt=function(e){return function(t){Me("api/partners/partner-recovery",e).then((function(e){t(yt(e))}))}},Pt=function(e){return function(t){t(function(e){return{type:"SET_SHOW_DELETED",showDeleted:e}}(e))}},St={partners:[],showDeleted:!1};function Et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Tt={id:"",address:"",name:"",vatNumber:""},Ct=Object(i.b)((function(e){return e.partners}),(function(e){return{onPartnerAdded:function(t){e(gt(t))},onPartnerEdited:function(t){e(vt(t))},onModalTitleChanged:function(t){e(tt(t))}}}))((function(e){var t=e.onPartnerAdded,n=e.partners,r=e.onModalTitleChanged,o=e.onPartnerEdited,i=e.partnerId,c=n&&n.find((function(e){return e.id===i})),a=Object(O.useState)(null!=c?c:Tt),s=d()(a,2),u=s[0],f=s[1],p=Object(le.p)();r(c?"\u0420\u0435\u0434\u0430\u043a\u0446\u0438\u044f \u043d\u0430 \u043f\u0430\u0440\u0442\u043d\u044c\u043e\u0440":"\u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435 \u043d\u0430 \u043f\u0430\u0440\u0442\u043d\u044c\u043e\u0440");var b=function(e,t){f(It(It({},u),{},l()({},e,t)))};return Object(F.jsxs)(ue,{children:[Object(F.jsx)(re,{label:"\u0418\u043c\u0435 \u043d\u0430 \u043f\u0430\u0440\u0442\u043d\u044c\u043e\u0440\u0430:",onChangeText:function(e){return b("name",e)},value:u.name,border:!0}),Object(F.jsx)(re,{label:"\u0414\u0414\u0421 \u041d\u043e\u043c\u0435\u0440:",onChangeText:function(e){return b("vatNumber",e)},value:u.vatNumber,border:!0}),Object(F.jsx)(re,{label:"\u0410\u0434\u0440\u0435\u0441:",onChangeText:function(e){return b("address",e)},value:u.address,border:!0}),Object(F.jsx)(oe,{label:c?"\u0420\u0435\u0434\u0430\u043a\u0446\u0438\u044f":"\u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435",onPress:function(){c?o(u):t(u),f(Tt),p.navigate("PartnersListScreen")}})]})}));function Rt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xe()(e);if(t){var o=xe()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ye()(this,n)}}var Lt=function(e){Oe()(n,e);var t=Rt(n);function n(){var e;pe()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onDelete=function(t){(0,e.props.dispatch)(wt(t))},e.onEdit=function(t){e.props.navigation.navigate("Modal",{component:Object(F.jsx)(Ct,{partnerId:t})})},e}return je()(n,[{key:"render",value:function(){var e=this.props,t=e.listableItems,n=e.columns,r=e.showDeleted;return Object(F.jsx)(Le,{data:t,columns:n,deleteProps:{title:"\u0418\u0437\u0442\u0440\u0438\u0432\u0430\u043d\u0435 \u043d\u0430 \u043f\u0430\u0440\u0442\u043d\u044c\u043e\u0440",content:"\u0416\u0435\u043b\u0430\u0435\u0442\u0435 \u043b\u0438 \u0434\u0430 \u0438\u0437\u0442\u0440\u0438\u0435\u0442\u0435 \u0438\u0437\u0431\u0440\u0430\u043d\u0438\u044f\u0442 \u043f\u0430\u0440\u0442\u043d\u044c\u043e\u0440",cancelBtnTxt:"\u041e\u0442\u043a\u0430\u0437",acceptBtnTxt:"\u0418\u0437\u0442\u0440\u0438\u0432\u0430\u043d\u0435",onAction:this.onDelete},onEdit:this.onEdit,showDeleted:r})}}]),n}($e),At=Object(i.b)((function(e){return{partners:e.partners.partners}}))(Lt),kt=Object(i.b)((function(e){return{partners:e.partners.partners,showDeleted:e.partners.showDeleted}}),(function(e){return{onPartnersLoaded:function(){e(xt())},onPartnerRecovery:function(t){e(Dt(t))},setShowDeleted:function(t){e(Pt(t))}}}))((function(e){var t=e.onPartnersLoaded,n=e.partners,r=e.onPartnerRecovery,o=e.setShowDeleted,i=e.showDeleted;Object(O.useEffect)((function(){return t()}),[i]);return Object(F.jsx)(ue,{children:Object(F.jsx)(At,{columns:[{name:"\u0418\u043c\u0435 \u043d\u0430 \u043f\u0430\u0440\u0442\u043d\u044c\u043e\u0440\u0430",propName:"name",flex:4},{name:"\u0414\u0414\u0421 \u041d\u043e\u043c\u0435\u0440",propName:"vatNumber",flex:1,isRight:!0},{name:"\u0410\u0434\u0440\u0435\u0441",propName:"address",flex:2,isRight:!0}],listableItems:n,navigation:Object(le.p)(),showDeleted:{setShowDeleted:o,showDeleted:i,recoverProps:{title:"\u0412\u044a\u0437\u0441\u0442\u0430\u043d\u043e\u0432\u044f\u0432\u0430\u043d\u0435 \u043d\u0430 \u043f\u0430\u0440\u0442\u043d\u044c\u043e\u0440",content:"\u0416\u0435\u043b\u0430\u0435\u0442\u0435 \u043b\u0438 \u0434\u0430 \u0432\u044a\u0437\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u0438\u0437\u0431\u0440\u0430\u043d\u0438\u044f \u043f\u0430\u0440\u0442\u043d\u044c\u043e\u0440",cancelBtnTxt:"\u041e\u0442\u043a\u0430\u0437",acceptBtnTxt:"\u0412\u044a\u0437\u0441\u0442\u0430\u043d\u043e\u0432\u044f\u0432\u0430\u043d\u0435",onAction:r}}})})}));function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Bt=function(e){return{type:"EDIT_SALE",sale:e}},Mt=function(e){return{type:"LOAD_SALES",sales:e}},qt=function(e){return function(t){Me("api/sales/",e).then((function(e){t(function(e){return{type:"ADD_SALE",sale:e}}(e))})).catch((function(e){console.log(e)}))}},Wt=function(){return function(e){_e("api/sales/").then((function(t){e(Mt(t))})).catch((function(e){console.log(e)}))}},Vt=function(){return function(e){_e("api/sales/get-all").then((function(t){e(Mt(t))})).catch((function(e){console.log(e)}))}},zt=function(e){return function(t){Be("api/sales/",e).then((function(n){n&&t(Bt(e))})).catch((function(e){console.log(e)}))}},Ht=function(e){return function(t){qe("api/sales/",e).then((function(n){n&&t(function(e){return{type:"DELETE_SALE",saleId:e}}(e))}))}},Ft=function(e){return function(t){Me("api/sales/sale-recovery",e).then((function(e){t(Bt(e))}))}},Gt=function(e){return function(t){t(function(e){return{type:"SET_SHOW_DELETED",showDeleted:e}}(e))}},Ut={sales:[],showDeleted:!1},Jt=function(){return(Math.random()+1).toString(36).substring(7)};function Xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xt(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Kt=function(e){var t,n=e.items,r=e.saleItems,o=e.setSelectedItems,i=(e.sale,Object(O.useState)({id:"",title:""})),c=d()(i,2),a=c[0],s=c[1],l=Object(O.useState)(n.map((function(e){return{id:e.id,title:e.name}}))),u=d()(l,1)[0];return Object(F.jsxs)(ee,{style:{width:z(300),height:W()-220},children:[Object(F.jsxs)(ee,{style:{display:"flex",flexDirection:"row",borderBottomWidth:2,borderBottomColor:"grey",backgroundColor:"none"},children:[Object(F.jsx)(ee,{style:{flexDirection:"row",flex:5,justifyContent:"flex-start"},children:Object(F.jsx)($,{children:"\u0418\u043c\u0435 \u043d\u0430 \u0441\u0442\u043e\u043a\u0430\u0442\u0430:"})}),Object(F.jsx)(ee,{style:{flexDirection:"row",flex:1,justifyContent:"center"},children:Object(F.jsx)($,{children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e:"})}),Object(F.jsx)(ee,{style:{flexDirection:"row",flex:1,justifyContent:"flex-end"},children:Object(F.jsx)($,{children:"\u0426\u0435\u043d\u0430:"})}),Object(F.jsx)(ee,{style:{flexDirection:"row",flex:1,justifyContent:"flex-end"},children:Object(F.jsx)($,{children:"\u041e\u0431\u0449\u043e \u0441\u0443\u043c\u0430:"})})]}),r&&Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)(ee,{style:{height:W()-260,overflow:"scroll"},children:[r.map((function(e){var t,i=Number(e.qtty)<=Number(null==(t=n.find((function(t){return t.id===e.itemId})))?void 0:t.qtty);return Object(F.jsxs)(ee,{style:{display:"flex",flexDirection:"row",borderBottomWidth:1,borderBottomColor:"grey"},children:[Object(F.jsx)(ee,{style:{flexDirection:"row",flex:5,alignSelf:"stretch"},children:Object(F.jsx)(et,{selectedItem:{id:e.itemId,title:e.name},placeholder:"\u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0438\u043c\u0435 \u043d\u0430 \u0441\u0442\u043e\u043a\u0430",items:u,handleItemChosen:function(t){setTimeout((function(){var i=n.find((function(e){return e.id===t}));o(r.map((function(t){return e.uniqueId===t.uniqueId?{id:"",uniqueId:Jt(),itemId:i.id,name:i.name,qtty:"1",price:i.sellPrice,total:Ie(Number(i.sellPrice))}:t})))}),300)}},e.itemId)}),Object(F.jsx)(re,{autoFocus:!0,keyboardType:"numeric",style:{textAlign:"center",borderWidth:i?0:1,flexDirection:"row",flex:1,alignSelf:"stretch",borderColor:i?"white":"red"},value:e.qtty.toString(),onChangeText:function(t){return o(r.map((function(n){return e.uniqueId===n.uniqueId?Yt(Yt({},n),{},{qtty:t,total:Ie(Number(t)*Number(n.price))}):n})))}}),Object(F.jsx)(re,{style:{textAlign:"center",borderWidth:0,flexDirection:"row",flex:1,alignSelf:"stretch"},keyboardType:"numeric",value:e.price.toString(),onChangeText:function(t){return o(r.map((function(n){return e.uniqueId===n.uniqueId?Yt(Yt({},n),{},{price:t,total:Ie(Number(n.qtty)*Number(t))}):n})))}}),Object(F.jsx)($,{style:{flexDirection:"row",flex:1,textAlign:"center"},children:Te(e.total)})]},e.itemId)})),Object(F.jsxs)(ee,{style:{display:"flex",flexDirection:"row",borderBottomWidth:1,borderBottomColor:"grey"},children:[Object(F.jsx)(ee,{style:{flexDirection:"row",flex:5},children:Object(F.jsx)(et,{placeholder:"\u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0438\u043c\u0435 \u043d\u0430 \u0441\u0442\u043e\u043a\u0430",selectedItem:a,items:u,handleItemChosen:function(e){var t=n.find((function(t){return t.id===e}));o([].concat(ke()(r),[{id:"",uniqueId:Jt(),itemId:t.id,name:t.name,qtty:"1",price:t.sellPrice,total:Ie(Number(t.sellPrice))}])),s({id:"",title:""})}})}),Object(F.jsx)(ee,{style:{flexDirection:"row",flex:1,justifyContent:"center"},children:Object(F.jsx)($,{})}),Object(F.jsx)(ee,{style:{flexDirection:"row",flex:1,justifyContent:"flex-end"},children:Object(F.jsx)($,{})}),Object(F.jsx)(ee,{style:{flexDirection:"row",flex:1,justifyContent:"flex-end"},children:Object(F.jsx)($,{})})]})]}),Object(F.jsxs)(ee,{style:{display:"flex",flexDirection:"row",borderBottomWidth:2,borderBottomColor:"grey",backgroundColor:"none",height:30},children:[Object(F.jsx)(ee,{style:{flexDirection:"row",flex:6},children:Object(F.jsx)($,{})}),Object(F.jsx)(ee,{style:{flexDirection:"row",flex:1,justifyContent:"flex-start"},children:Object(F.jsx)($,{children:"\u041e\u0431\u0449\u043e \u0441\u0443\u043c\u0430:"})}),Object(F.jsx)(ee,{style:{flexDirection:"row",flex:1,justifyContent:"flex-end"},children:Object(F.jsx)($,{children:Ie(r.length>0?null==r||null==(t=r.map((function(e){return Number(e.total)})))?void 0:t.reduce((function(e,t){return e+t})):0)})})]})]})]})};function Qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $t={id:"",date:new Date,isDeleted:!1,description:"",saleItems:[],partnerId:"",totalAmount:0},en=Object(i.b)((function(e){return{sales:e.sales.sales,partners:e.partners.partners,items:e.items.items}}),(function(e){return{onSaleAdded:function(t){e(qt(t))},onSaleEdited:function(t){e(zt(t))},onModalTitleChanged:function(t){e(tt(t))}}}))((function(e){var t,n,r=e.saleId,o=e.sales,i=e.onSaleAdded,c=e.onModalTitleChanged,a=e.onSaleEdited,s=e.partners,l=e.items,u=o.find((function(e){return e.id===r})),f=Object(O.useState)(null!=u?u:$t),p=d()(f,2),b=p[0],j=p[1],h=Object(O.useState)(s.map((function(e){return{id:e.id,title:e.name}}))),m=d()(h,1)[0],y=Object(le.p)();c(u?"\u0420\u0435\u0434\u0430\u043a\u0446\u0438\u044f \u043d\u0430 \u0441\u0442\u043e\u043a\u0430":"\u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435 \u043d\u0430 \u0441\u0442\u043e\u043a\u0430");var g=Object(O.useState)(u?u.saleItems.map((function(e){return{uniqueId:Jt(),itemId:e.itemId,name:e.name,qtty:e.qtty,total:e.total,price:e.price,id:e.id}})):[]),x=d()(g,2),v=x[0],w=x[1];return Object(F.jsx)(ue,{children:Object(F.jsxs)(ee,{style:{height:W()},children:[Object(F.jsx)(et,{placeholder:"\u0412\u044a\u0432\u0435\u0434\u0435\u0442\u0435 \u0438\u043c\u0435 \u043d\u0430 \u043f\u0430\u0440\u0442\u043d\u044c\u043e\u0440\u0430",selectedItem:u?{id:u.partnerId,title:null!=(t=null==(n=s.find((function(e){return e.id===u.partnerId})))?void 0:n.name)?t:""}:void 0,items:m,handleItemChosen:function(e){j(Zt(Zt({},b),{},{partnerId:e}))},label:"\u0418\u043c\u0435 \u043d\u0430 \u043f\u0430\u0440\u0442\u043d\u044c\u043e\u0440\u0430",border:!0,style:{marginBottom:15}}),Object(F.jsx)(Kt,{items:l,saleItems:v,setSelectedItems:w,sale:b}),Object(F.jsx)(oe,{disabled:void 0===v||0===v.length||""===b.partnerId,label:u?"\u0420\u0435\u0434\u0430\u043a\u0446\u0438\u044f \u043d\u0430 \u0441\u0442\u043e\u043a\u0430":"\u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435 \u043d\u0430 \u0441\u0442\u043e\u043a\u0430",onPress:function(){b.totalAmount=v.map((function(e){return Number(e.total)})).reduce((function(e,t){return e+t})),b.saleItems=v,u?a(b):i(b),j($t),y.navigate("Root")},style:{alignSelf:"center"}})]})})}));function tn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xe()(e);if(t){var o=xe()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ye()(this,n)}}var nn=function(e){Oe()(n,e);var t=tn(n);function n(){var e;pe()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onDelete=function(t){(0,e.props.dispatch)(Ht(t))},e.onEdit=function(t){e.props.navigation.navigate("Modal",{component:Object(F.jsx)(en,{saleId:t})})},e}return je()(n,[{key:"render",value:function(){var e=this.props,t=e.listableItems,n=e.columns,r=e.showDeleted;return Object(F.jsx)(Le,{data:t,columns:n,deleteProps:{title:"\u0418\u0437\u0442\u0440\u0438\u0432\u0430\u043d\u0435 \u043d\u0430 \u043f\u0440\u043e\u0434\u0430\u0436\u0431\u0430",content:"\u0416\u0435\u043b\u0430\u0435\u0442\u0435 \u043b\u0438 \u0434\u0430 \u0438\u0437\u0442\u0440\u0438\u0435\u0442\u0435 \u0438\u0437\u0431\u0440\u0430\u043d\u0430\u0442\u0430 \u043f\u0440\u043e\u0434\u0430\u0436\u0431\u0430",cancelBtnTxt:"\u041e\u0442\u043a\u0430\u0437",acceptBtnTxt:"\u0418\u0437\u0442\u0440\u0438\u0432\u0430\u043d\u0435",onAction:this.onDelete},onEdit:this.onEdit,showDeleted:r})}}]),n}($e),rn=Object(i.b)((function(e){return{sales:e.sales.sales}}))(nn),on=Object(i.b)((function(e){var t,n;return{sales:(null==(t=e.sales)?void 0:t.sales)||[],partners:(null==(n=e.partners)?void 0:n.partners)||[],showDeleted:e.sales.showDeleted}}),(function(e){return{onSalesLoaded:function(){e(Wt())},onSaleRecovery:function(t){e(Ft(t))},onAllSalesLoaded:function(){e(Vt())},onPartnersLoaded:function(){e(xt())},onItemsLoaded:function(){e(Ge())},setShowDeleted:function(t){e(Gt(t))}}}))((function(e){var t=e.sales,n=e.partners,r=e.onSalesLoaded,o=e.onSaleRecovery,i=e.onItemsLoaded,c=e.onPartnersLoaded,a=e.onAllSalesLoaded,s=e.showDeleted,l=e.setShowDeleted,u=Object(le.p)();Object(O.useEffect)((function(){s?a():r(),i(),c()}),[s]);var d=[{name:"\u0418\u043c\u0435 \u043d\u0430 \u0441\u0442\u043e\u043a\u0430",propName:"partner",flex:6},{name:"\u0414\u0430\u0442\u0430",propName:"date",flex:H?2:1,isRight:!0},{name:"\u041e\u0431\u0449\u0430 \u0441\u0443\u043c\u0430",propName:"total",flex:H?2:1,isRight:!0}];return Object(F.jsx)(ue,{children:Object(F.jsx)(rn,{columns:d,listableItems:t.map((function(e){var t,r;return{id:e.id,partner:null!=(t=null==(r=n.find((function(t){return t.id===e.partnerId})))?void 0:r.name)?t:"",date:Se(e.date),description:e.description,total:Ie(e.totalAmount),isDeleted:e.isDeleted}})),navigation:u,showDeleted:{setShowDeleted:l,showDeleted:s,recoverProps:{title:"\u0412\u044a\u0437\u0441\u0442\u0430\u043d\u043e\u0432\u044f\u0432\u0430\u043d\u0435 \u043d\u0430 \u043f\u0440\u043e\u0434\u0430\u0436\u0431\u0430",content:"\u0416\u0435\u043b\u0430\u0435\u0442\u0435 \u043b\u0438 \u0434\u0430 \u0432\u044a\u0437\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u0438\u0437\u0431\u0440\u0430\u043d\u0430\u0442\u0430 \u043f\u0440\u043e\u0434\u0430\u0436\u0431\u0430",cancelBtnTxt:"\u041e\u0442\u043a\u0430\u0437",acceptBtnTxt:"\u0412\u044a\u0437\u0441\u0442\u0430\u043d\u043e\u0432\u044f\u0432\u0430\u043d\u0435",onAction:o}}})})})),cn=Object(i.b)((function(e){return e.title}),null)((function(e){var t=e.colorScheme,n=e.title;return Object(F.jsx)(w.a,{linking:bt,theme:"dark"===t?D.a:P.a,children:Object(F.jsx)(sn,{title:n})})})),an=Object(S.a)();function sn(e){var t=e.title;return Object(F.jsxs)(an.Navigator,{children:[Object(F.jsx)(an.Screen,{name:"Root",component:ln,options:{headerShown:!1}}),Object(F.jsx)(an.Screen,{name:"NotFound",component:ae,options:{title:"Oops!"}}),Object(F.jsx)(an.Group,{screenOptions:{presentation:"modal"},children:Object(F.jsx)(an.Screen,{name:"Modal",component:ie,options:{title:t,headerTitleAlign:"center"}})})]})}function ln(e){var t=e.navigation,n=Object(ht.a)();return Object(F.jsx)(n.Navigator,{children:Object(F.jsxs)(n.Group,{children:[Object(F.jsx)(n.Screen,{name:"SalesListScreen",component:on,options:{title:"\u0421\u043f\u0438\u0441\u044a\u043a \u0441 \u043f\u0440\u043e\u0434\u0430\u0436\u0431\u0438",headerTitleAlign:"center",headerRight:function(){return Object(F.jsx)(E.a,{onPress:function(e){e.preventDefault(),t.navigate("Modal",{component:Object(F.jsx)(en,{})})},style:function(e){return{opacity:e.pressed?.5:1}},children:Object(F.jsx)(b.a,{name:"plus-circle",size:25,color:"green",style:{marginRight:15}})})}}}),Object(F.jsx)(n.Screen,{name:"ItemsListScreen",navigationKey:"/ItemsListScreen",component:pt,options:{title:"\u0421\u043f\u0438\u0441\u044a\u043a \u0441\u044a\u0441 \u0441\u0442\u043e\u043a\u0438",headerTitleAlign:"center",headerRight:function(){return Object(F.jsx)(E.a,{onPress:function(e){e.preventDefault(),t.navigate("Modal",{component:Object(F.jsx)(ct,{})})},style:function(e){return{opacity:e.pressed?.5:1}},children:Object(F.jsx)(b.a,{name:"plus-circle",size:25,color:"green",style:{marginRight:15}})})}}}),Object(F.jsx)(n.Screen,{name:"PartnersListScreen",navigationKey:"PartnersListScreen",component:kt,options:{title:"\u0421\u043f\u0438\u0441\u044a\u043a \u0441 \u043f\u0430\u0440\u0442\u043d\u044c\u043e\u0440\u0438",headerTitleAlign:"center",headerRight:function(){return Object(F.jsx)(E.a,{onPress:function(e){e.preventDefault(),t.navigate("Modal",{component:Object(F.jsx)(Ct,{})})},style:function(e){return{opacity:e.pressed?.5:1}},children:Object(F.jsx)(b.a,{name:"plus-circle",size:25,color:"green",style:{marginRight:15}})})}}}),Object(F.jsx)(n.Screen,{name:"Register",component:jt})]})})}var un=n(150),dn=n(298),fn={items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0,n=t;switch(n.type){case"ADD_ITEM":return Ve(Ve({},e),{},{items:[].concat(ke()(e.items),[n.item])});case"LOAD_ITEMS":case"LOAD_ALL_ITEMS":return Ve(Ve({},e),{},{items:n.items});case"EDIT_ITEM":return Ve(Ve({},e),{},{items:ke()(e.items.map((function(e){return e.id===n.item.id?Ve({},n.item):e})))});case"DELETE_ITEM":return Ve(Ve({},e),{},{items:e.showDeleted?ke()(e.items.map((function(e){return e.id===n.itemId?Ve(Ve({},e),{},{isDeleted:!0}):e}))):ke()(e.items.filter((function(e){return e.id!==n.itemId})))});case"BUY_ITEM":return Ve(Ve({},e),{},{items:ke()(e.items.map((function(e){return e.id===n.buyItem.itemId?Ve(Ve({},e),{},{qtty:(Number(e.qtty)+Number(n.buyItem.qtty)).toString(),basePrice:n.buyItem.basePrice}):e})))});case"SET_SHOW_DELETED":return Ve(Ve({},e),{},{showDeleted:n.showDeleted});default:return e}},title:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0,n=t;switch(n.type){case"CHANGE_TITLE":return{title:n.title};default:return e}},partners:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0,n=t;switch(n.type){case"ADD_PARTNER":return mt(mt({},e),{},{partners:[].concat(ke()(e.partners),[n.partner])});case"LOAD_PARTNERS":return mt(mt({},e),{},{partners:n.partners});case"EDIT_PARTNER":return mt(mt({},e),{},{partners:ke()(e.partners.map((function(e){return e.id===n.partner.id?mt({},n.partner):e})))});case"DELETE_PARTNER":return mt(mt({},e),{},{partners:ke()(e.partners.map((function(e){return e.id===n.partnerId?mt(mt({},e),{},{isDeleted:!0}):e})))});case"SET_SHOW_DELETED":return mt(mt({},e),{},{showDeleted:n.showDeleted});default:return e}},sales:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ut,t=arguments.length>1?arguments[1]:void 0,n=t;switch(n.type){case"ADD_SALE":return _t(_t({},e),{},{sales:[].concat(ke()(e.sales),[n.sale])});case"LOAD_SALES":case"LOAD_ALL_SALES":return _t(_t({},e),{},{sales:n.sales});case"EDIT_SALE":return _t(_t({},e),{},{sales:ke()(e.sales.map((function(e){return e.id===n.sale.id?_t({},n.sale):e})))});case"DELETE_SALE":return _t(_t({},e),{},{sales:e.showDeleted?ke()(e.sales.map((function(e){return e.id===n.saleId?_t(_t({},e),{},{isDeleted:!0}):e}))):ke()(e.sales.filter((function(e){return e.id!==n.saleId})))});case"SET_SHOW_DELETED":return _t(_t({},e),{},{showDeleted:n.showDeleted});default:return e}}};function pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bn(e){var t=[dn.a],n=Object(un.b)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pn(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},fn)),r=[],o="undefined"===typeof window?null:window;return o&&o.__REDUX_DEVTOOLS_EXTENSION__&&r.push(o.__REDUX_DEVTOOLS_EXTENSION__()),Object(un.d)(n,e,un.c.apply(void 0,[un.a.apply(void 0,t)].concat(r)))}function jn(){var e=function(){var e=Object(O.useState)(!1),t=d()(e,2),r=t[0],o=t[1];return Object(O.useEffect)((function(){p.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h.b(),e.next=4,p.a.awrap(j.b(g(g({},b.a.font),{},{"space-mono":n(342)})));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.warn(e.t0);case 9:return e.prev=9,o(!0),h.a(),e.finish(9);case 13:case"end":return e.stop()}}),null,null,[[0,6,9,13]],Promise)}),[]),r}(),t=v(),s=bn();return e?Object(F.jsxs)(o.b,{children:[Object(F.jsx)(i.a,{store:s,children:Object(F.jsx)(a.a,{children:Object(F.jsx)(c.a,{children:Object(F.jsx)(cn,{colorScheme:t,title:s.getState().title.title})})})}),Object(F.jsx)(r.a,{})]}):null}!function(){if("web"===I.a.OS){var e=document.createElement("style");e.textContent="textarea, select, input, button { outline: none !important; }",e.textContent+="div::-webkit-scrollbar { width: 0; }",document.head.append(e)}}()},311:function(e,t,n){e.exports=n(371)},342:function(e,t,n){e.exports=n.p+"./fonts/SpaceMono-Regular.ttf"},356:function(e,t){}},[[311,1,2]]]);
//# sourceMappingURL=app.8f1dad46.chunk.js.map